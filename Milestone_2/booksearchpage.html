<!DOCTYPE html>

<html>
    
<head>
    
    <meta charset="utf-8">
    
	<title>Google Books Search</title>
    
<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    
<style>
    
    button {
        font-size: 1.3em;
        background: none;
        border: none;
        color: white;
    }
    
    body {
        color: white;
        background-color: black;
    }
    
    .background {
            background-image: url(mainimg.jpg);
            border: 1px solid white;
            text-align: center;
            
        }
    
    a:hover, a:visited, a:link, a:active {
        text-decoration: none;
        color: white;
    }
    
    .search {
        border: 1px solid black;
    }
    
    .border {
        border: 1px solid white;
        width: 800px;
    }
    
    * {
    box-sizing: border-box;
}
    
    @media (max-width: 500px) {
    section {
      -webkit-flex-direction: column;
      flex-direction: column;
    }
      
}
    
    nav {
        
        text-align: center;
        
    }
    
    footer {
        
        text-align: center;
        font-family: serif;
        border: 2px solid white;
        color: white;
        background-color: black;
        font-size: 1.0em;
        
        }
    
    .borders {
            border: 1px solid white;
            white-space: 20px;
            background-color: black;
        }
         
</style>    
       
</head>
    
<body>
    
<div class="background">
        
    <h1>Google Books Search: <span id="shelf"></span></h1>
    
    <nav>
            <a href="../index.html">Home</a> |
            <a href="../Milestone1.html">Milestone I</a> |
            <a href="./milestone2.html">Milestone II</a> |
            <a href="Milestone3.html">Milestone III</a>
    </nav>
    
</div> 
    
<br>  
    
    <div style="text-align: center;">
    <input placeholder="Search..." id="search" style="height: 30px; width: 300px;"autofocus/>
        
    <button><a href=""></a>Search</button>
     
    <button><a href="../Milestone_2/milestone2.html">Back</a></button></div>  
    
<br>
    
     <div class="borders">

    <center class="borders">      
        <div id="results" style="display: flex; flex-wrap: wrap;"></div>   
     </center>
             
    <h1 style="text-align: center;"># of Results: <span id="totalresults"></span></h1>
    
<div class="paging-options" style="padding: 20px;">
    <a href="#" onclick="previousPage()">Last Page</a>
    
    <a href="#news" onclick="nextPage()" style=" float: right">Next Page</a>
</div>   
         
         
       </div>

<br>

<footer class="footer">
        
    Last Updated: October 6, 2018 |
    <a href="../index.html">Home</a> |
    <a href="../Milestone1.html">Milestone I</a> |
    <a href="./milestone2.html">Milestone II</a> |
    <a href="../IT4203/Milestone3.html">Milestone III</a>
    | KSU IT4203 &copy; 2018
              
</footer>
              
<script>
    
    $(document).ready(function(){
        $("ul").hide();
    });
        $("button").click(function(){
            $("ul").show();
                $(function(){
		          var term = document.getElementById('search').value; 
		          var parameter="?q="+term+"&startIndex=0&maxResults=10"; 
		          var service_point="https://www.googleapis.com/books/v1/volumes/"+parameter;
        $.getJSON(service_point, function (json)
        {
			console.log(json);
			var total=json.totalItems;
			$("#totalresults").text(total); 
			
			var resultHTML="";
			for (i in json.items)
			{
				var booktitle=json.items[i].volumeInfo.title;
				var bookid=json.items[i].id;
				var cover="";
				if (json.items[i].volumeInfo.imageLinks != null)
					cover=json.items[i].volumeInfo.imageLinks.smallThumbnail;

resultHTML+="<br><a href='bookdetails.html?id="+bookid+"'><br>"+booktitle+"</a>";

resultHTML+="<br><img src='"+cover+"'><br>";

resultHTML+="<br>";

			}
			$("#results").html(resultHTML); 
			$(".bookdiv").css("width", "300px");
		});
    });
  });
    
</script> 
    
</body>
    
</html>