<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8">
    
	<title>Google Books Search</title>
    
<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    
<style>
    
    button {
        font-size: 1.3em;
        background: none;
        border: none;
        color: white;
    }
    
    body {
        color: white;
        background-color: black;
    }
    
    .background {
        background-image: url(images.p.jpg);
    }
    
    a:hover, a:visited, a:link, a:active {
        text-decoration: none;
        color: white;
    }
    
    .search {
        border: 1px solid black;
    }
    
    .border {
        border: 1px solid white;
        width: 800px;
    }
    
    * {
    box-sizing: border-box;
}
    
    @media (max-width: 500px) {
    section {
      -webkit-flex-direction: column;
      flex-direction: column;
    }
      
}
    
    nav {
        
        text-align: center;
        
    }
    
    div.center  {
        text-align: center;
    }
    
    footer {
        text-align: center;
    }
         
</style>    
       
</head>
    
<body>
    
<nav>
    <a href="../index.html">Home</a> |
    <a href="../Milestone1.html">Milestone I</a> |
    <a href="./milestone2.html">Milestone II</a> |
    <a href="../IT4203/Milestone3.html">Milestone III</a>       
</nav>
   <div class="background">    
   <div class="center">
    <h1 id="title">Google Books Search</h1>
            
    <input placeholder="Search..." id="search" autofocus/>
        
    <button><a href=""></a>Search</button>
            
    <button><a href="../Milestone_2/milestone2.html">Back</a></button>
            
    <div id="results" style="border: 1px solid white; display: flex; flex-wrap: wrap;"></div>
          
    <h1># of Results: <span id="totalresults"></span></h1>
    </div>
       </div>  

<footer class="footer">
        
    Last Updated: October 6, 2018 |
    <a href="../index.html">Home</a> |
    <a href="../Milestone1.html">Milestone I</a> |
    <a href="./milestone2.html">Milestone II</a> |
    <a href="../IT4203/Milestone3.html">Milestone III</a>
    | KSU IT4203 &copy; 2018
              
</footer>
              
<script>
    
    $(document).ready(function(){
        $("ul").hide();
    });
        $("button").click(function(){
            $("ul").show();
                $(function(){
		          var term = document.getElementById('search').value; 
		          var parameter="?q="+term+"&startIndex=0&maxResults=20"; 
		          var service_point="https://www.googleapis.com/books/v1/volumes/"+parameter;
        $.getJSON(service_point, function (json)
        {
			console.log(json);
			var total=json.totalItems;
			$("#totalresults").text(total); 
			
			var resultHTML="";
			for (i in json.items)
			{
				var booktitle=json.items[i].volumeInfo.title;
				var bookid=json.items[i].id;
				var cover="";
				if (json.items[i].volumeInfo.imageLinks != null)
					cover=json.items[i].volumeInfo.imageLinks.smallThumbnail;

resultHTML+="<div class='bookdiv'><br>";
resultHTML+="<br><br><img src='"+cover+"' style='float: left'>";
resultHTML+="<a href='bookinfo.html?id="+bookid+"'><br>"+booktitle+"</a>";
resultHTML+="</div>";
			}
			$("#results").html(resultHTML); 
			$(".bookdiv").css("width", "300px");
		});
    });
  });
    
</script> 
    
    




</body>
</html>